<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>For Bujji Konda</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500&display=swap"
      rel="stylesheet"
    />

    <!-- GSAP & Lenis for smooth scrolling -->
    <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
      /* Clean reset */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: #0a0a0a;
        color: #f5f5f5;
        overflow-x: hidden;
        height: 600vh;
      }

      /* Main gallery container - fixed position */
      #gallery {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        display: flex;
        background: #0a0a0a;
      }

      /* Column layouts */
      .col-left {
        width: 25%;
        height: 100%;
        padding: 20px 10px 20px 20px;
      }

      .col-nav {
        width: 4%;
        height: 100%;
        border-left: 1px solid rgba(255, 255, 255, 0.1);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        background-color: rgba(10, 10, 10, 0.9);
        z-index: 10;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .col-right {
        width: 71%;
        height: 100%;
        display: flex;
        padding: 20px 20px 20px 10px;
      }

      /* Column hover effects */
      .col-nav:hover {
        width: 12%;
      }

      /* Image columns */
      .img-col {
        flex: 1;
        padding: 0 10px;
        position: relative;
      }

      .col-right .img-col {
        width: 50%;
      }

      /* Reverse column styling */
      #col2 {
        display: flex;
        flex-direction: column-reverse;
      }

      /* Image items */
      .img-item {
        width: 100%;
        height: calc(100vh / 3 - 16px);
        min-height: 65vh;
        margin-bottom: 16px;
        border-radius: 8px;
        overflow: hidden;
        position: relative;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .img-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .img-item:hover img {
        transform: scale(1.08);
      }

      /* Birthday Wish Button - Top Corner */
      .birthday-wish-button {
        position: fixed;
        top: 70px;
        right: 20px;
        background: #111111;
        color: #ffffff;
        border: 1px solid #2a2a2a;
        padding: 14px 28px;
        font-family: "Space Grotesk", sans-serif;
        font-weight: 600;
        font-size: 15px;
        cursor: pointer;
        z-index: 100;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(10px);
        letter-spacing: 1px;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        gap: 12px;
        border-radius: 0;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .birthday-wish-button:hover {
        background: #1a1a1a;
        border-color: #3a3a3a;
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.5);
      }

      .birthday-wish-button:hover .cake-icon {
        transform: rotate(15deg) scale(1.2);
      }

      .cake-icon {
        font-size: 20px;
        transition: all 0.3s ease;
      }

      /* Navigation styling */
      .nav-container {
        height: 80%;
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 20px;
      }

      .nav-item {
        width: 100%;
        aspect-ratio: 1/1;
        border-radius: 4px;
        overflow: hidden;
        cursor: pointer;
        border: 1px solid transparent;
        transition: all 0.3s ease;
        position: relative;
        opacity: 0.6;
      }

      .nav-item.active {
        opacity: 1;
        border-color: #8a715e;
      }

      .nav-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: brightness(0.9);
      }

      .nav-item.active img {
        filter: brightness(1);
      }

      .nav-label {
        position: absolute;
        left: 120%;
        top: 50%;
        transform: translateY(-50%);
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.3s ease;
        font-size: 11px;
        color: #d4c6b8;
        font-weight: 500;
        background: rgba(10, 10, 10, 0.9);
        padding: 6px 12px;
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        font-family: "Inter", sans-serif;
      }

      .col-nav:hover .nav-label {
        opacity: 1;
      }

      /* Minimap hover behavior */
      .col-nav:hover ~ .col-left .img-item,
      .col-nav:hover ~ .col-right .img-item {
        height: calc(100vh / 6 - 16px);
        transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Fade overlays */
      .fade-top,
      .fade-bottom {
        position: fixed;
        left: 0;
        width: 100%;
        height: 120px;
        pointer-events: none;
        z-index: 5;
      }

      .fade-top {
        top: 0;
        background: linear-gradient(
          to bottom,
          rgba(10, 10, 10, 1) 0%,
          rgba(10, 10, 10, 0.7) 50%,
          rgba(10, 10, 10, 0) 100%
        );
      }

      .fade-bottom {
        bottom: 0;
        background: linear-gradient(
          to top,
          rgba(10, 10, 10, 1) 0%,
          rgba(10, 10, 10, 0.7) 50%,
          rgba(10, 10, 10, 0) 100%
        );
      }

      /* Back to Terminal Button */
      .back-button {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #111111;
        color: #ffffff;
        border: 1px solid #2a2a2a;
        padding: 12px 24px;
        font-family: "Space Grotesk", sans-serif;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        z-index: 100;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
        letter-spacing: 1px;
        text-transform: uppercase;
        border-radius: 0;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

      .back-button:hover {
        background: #1a1a1a;
        border-color: #3a3a3a;
        transform: translateY(-2px);
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.5);
      }

      /* Birthday Wish Overlay */
      .wish-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        backdrop-filter: blur(15px);
        padding: 20px;
      }

      .wish-content {
        background: #111111;
        max-width: 800px;
        width: 100%;
        height: 85vh;
        max-height: 85vh;
        border: 1px solid #2a2a2a;
        box-shadow: 0 25px 100px rgba(0, 0, 0, 0.8);
        position: relative;
        transform: translateY(30px);
        opacity: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .wish-header {
        background: #0a0a0a;
        padding: 30px 40px;
        border-bottom: 1px solid #2a2a2a;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .wish-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, #8a715e, transparent);
      }

      .wish-title {
        font-family: "Space Grotesk", sans-serif;
        font-size: 42px;
        font-weight: 700;
        color: #ffffff;
        margin-bottom: 10px;
        letter-spacing: 2px;
        text-transform: uppercase;
        position: relative;
        display: inline-block;
      }

      .wish-title::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, #8a715e, transparent);
      }

      .wish-subtitle {
        font-family: "JetBrains Mono", monospace;
        font-size: 14px;
        color: #8a8a8a;
        letter-spacing: 1px;
        margin-top: 5px;
      }

      .wish-body {
        flex: 1;
        overflow-y: auto;
        padding: 40px;
        position: relative;
      }

      /* Custom scrollbar */
      .wish-body::-webkit-scrollbar {
        width: 6px;
      }

      .wish-body::-webkit-scrollbar-track {
        background: #1a1a1a;
      }

      .wish-body::-webkit-scrollbar-thumb {
        background: #8a715e;
        border-radius: 3px;
      }

      .wish-body::-webkit-scrollbar-thumb:hover {
        background: #9c816c;
      }

      .cake-container {
        text-align: center;
        margin: 30px 0 40px;
        position: relative;
      }

      .cake {
        font-size: 80px;
        filter: drop-shadow(0 0 20px rgba(138, 113, 94, 0.4));
        animation: float 4s ease-in-out infinite;
        display: inline-block;
      }

      .candle {
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 24px;
        animation: flicker 1.5s ease-in-out infinite;
        filter: drop-shadow(0 0 10px rgba(255, 100, 0, 0.5));
      }

      .wish-text {
        font-family: "Inter", sans-serif;
        font-size: 18px;
        line-height: 1.9;
        color: #cccccc;
        text-align: left;
      }

      .wish-text p {
        margin-bottom: 25px;
        position: relative;
        padding-left: 20px;
      }

      .wish-text p::before {
        content: "‚Üí";
        position: absolute;
        left: 0;
        top: 0;
        color: #8a715e;
        font-family: "JetBrains Mono", monospace;
        font-weight: 500;
      }

      .wish-text p:first-of-type {
        font-size: 20px;
        color: #ffffff;
        font-weight: 500;
        margin-bottom: 30px;
      }

      .wish-text p:last-child {
        text-align: center;
        font-style: italic;
        color: #8a715e;
        font-size: 22px;
        margin-top: 40px;
        padding: 20px;
        border-top: 1px solid #2a2a2a;
        border-bottom: 1px solid #2a2a2a;
        background: rgba(138, 113, 94, 0.05);
      }

      .wish-text p:last-child::before {
        display: none;
      }

      .signature {
        font-family: "Space Grotesk", sans-serif;
        font-size: 20px;
        font-weight: 600;
        letter-spacing: 1px;
        margin-top: 10px;
        display: block;
      }

      .wish-footer {
        background: #0a0a0a;
        padding: 20px 40px;
        border-top: 1px solid #2a2a2a;
        display: flex;
        justify-content: center;
        position: relative;
      }

      .wish-footer::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, #8a715e, transparent);
      }

      .close-wish {
        background: transparent;
        color: #8a715e;
        border: 1px solid #8a715e;
        padding: 14px 40px;
        font-family: "Space Grotesk", sans-serif;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.3s ease;
        letter-spacing: 1px;
        text-transform: uppercase;
        border-radius: 0;
        position: relative;
        overflow: hidden;
      }

      .close-wish::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(138, 113, 94, 0.2),
          transparent
        );
        transition: left 0.5s ease;
      }

      .close-wish:hover::before {
        left: 100%;
      }

      .close-wish:hover {
        background: rgba(138, 113, 94, 0.1);
        box-shadow: 0 0 20px rgba(138, 113, 94, 0.3);
      }

      /* Animations */
      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-15px);
        }
      }

      @keyframes flicker {
        0%,
        100% {
          opacity: 1;
          transform: translateX(-50%) scale(1);
        }
        50% {
          opacity: 0.8;
          transform: translateX(-50%) scale(1.1);
        }
        25%,
        75% {
          opacity: 0.9;
          transform: translateX(-50%) scale(0.95);
        }
      }

      /* Loading animation */
      .loading {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #0a0a0a;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        transition: opacity 0.5s ease;
      }

      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid rgba(138, 113, 94, 0.3);
        border-top-color: #8a715e;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Responsive adjustments */
      @media (max-width: 1200px) {
        .col-left {
          width: 30%;
        }

        .col-nav {
          width: 5%;
        }

        .col-right {
          width: 65%;
        }

        .col-nav:hover {
          width: 15%;
        }

        .wish-content {
          max-width: 700px;
        }

        .wish-title {
          font-size: 36px;
        }
      }

      @media (max-width: 768px) {
        #gallery {
          flex-direction: column;
        }

        .col-left {
          width: 100%;
          height: 40%;
        }

        .col-nav {
          width: 100%;
          height: 10%;
        }

        .col-right {
          width: 100%;
          height: 50%;
        }

        .nav-container {
          flex-direction: row;
          overflow-x: auto;
          padding: 0 10px;
        }

        .nav-label {
          top: 110%;
          left: 50%;
          transform: translateX(-50%);
        }

        .wish-overlay {
          padding: 10px;
        }

        .wish-content {
          height: 90vh;
          max-height: 90vh;
        }

        .wish-header {
          padding: 20px;
        }

        .wish-title {
          font-size: 28px;
        }

        .wish-body {
          padding: 20px;
        }

        .wish-text {
          font-size: 16px;
        }

        .wish-text p {
          padding-left: 15px;
        }

        .cake {
          font-size: 60px;
        }

        /* Stack buttons on mobile */
        .back-button {
          top: 20px;
          right: 20px;
          left: auto;
        }

        .birthday-wish-button {
          top: 70px;
          right: 20px;
          left: auto;
        }
      }

      @media (max-width: 480px) {
        .back-button {
          padding: 10px 18px;
          font-size: 12px;
        }

        .birthday-wish-button {
          padding: 12px 20px;
          font-size: 13px;
          top: 65px;
        }

        .wish-title {
          font-size: 24px;
        }

        .wish-text {
          font-size: 15px;
          line-height: 1.7;
        }
      }
    </style>
  </head>
  <body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
      <div class="loading-spinner"></div>
    </div>

    <!-- Back to Terminal Button -->
    <button class="back-button" onclick="window.location.href='index.html'">
      ‚Üê Back to Terminal
    </button>

    <!-- Birthday Wish Button -->
    <button class="birthday-wish-button" id="birthdayWishBtn">
      <span class="cake-icon">üéÇ</span>
      <span>Read Birthday Wish</span>
    </button>

    <!-- Fade Overlays -->
    <div class="fade-top"></div>
    <div class="fade-bottom"></div>

    <!-- Birthday Wish Overlay -->
    <div class="wish-overlay" id="wishOverlay">
      <div class="wish-content" id="wishContent">
        <div class="wish-header">
          <h2 class="wish-title">Happy 23rd Birthday</h2>
          <div class="wish-subtitle">TO BUJJI KONDA</div>
        </div>

        <div class="wish-body">
          <div class="cake-container">
            <div class="cake">üéÇ</div>
          </div>

          <div class="wish-text">
            <p>My dear Charith babu,</p>

            <p>
              I know we've been fighting a lot these days, but I hope you put
              that aside and accept this small virtaul gift of mine. please
              ignore if there are any mistakes.
            </p>

            <p>
              really greatful and thankful that you are born, thanks to your
              parents because I wouldn't have some of the best days without you.
              I am really proud of you, managing everything alone and giving
              your best every single day.The saddest part is me not being able
              to be there for you physically especially on your bday. And it
              really hurts to see you alone but I promise that very soon I'd
              come to you, to play every sport you want, cook your favourite
              dishes and just pour love and lots of love!
            </p>

            <p>
              I am always there for you, you're not alone. Let it be your
              victories or sorrows I will be there to support you. Not just me,
              your parents and whole family loves you a lot and are very much
              proud, more than me.
            </p>

            <p>
              I love you charith babu, to the amazing person you've been and to
              the amazing person you'll be. I'm here to love all your versions
              and ages!
            </p>

            <p>
              With all my heart,<br />
              <span class="signature">and Love</span>
            </p>
          </div>
        </div>

        <div class="wish-footer">
          <button class="close-wish" id="closeWish">CLOSE</button>
        </div>
      </div>
    </div>

    <!-- Main Gallery -->
    <div id="gallery">
      <!-- Left Column -->
      <div class="col-left">
        <div class="img-col" id="col1"></div>
      </div>

      <!-- Navigation Column -->
      <div class="col-nav">
        <div class="nav-container">
          <div class="nav-item" data-section="0">
            <img src="ch8.jpeg" alt="Slide 1" />
            <span class="nav-label">Slide 1</span>
          </div>
          <div class="nav-item" data-section="1">
            <img src="ch2.jpeg" alt="Slide 2" />
            <span class="nav-label">Slide 2</span>
          </div>
          <div class="nav-item" data-section="2">
            <img src="ch9.jpeg" alt="Slide 3" />
            <span class="nav-label">Slide 3</span>
          </div>
          <div class="nav-item" data-section="3">
            <img src="ch13.jpeg" alt="Slide 4" />
            <span class="nav-label">Slide 4</span>
          </div>
          <div class="nav-item" data-section="4">
            <img src="ch16.jpeg" alt="Slide 5" />
            <span class="nav-label">Slide 5</span>
          </div>
          <div class="nav-item" data-section="5">
            <img src="ch17.jpeg" alt="Slide 6" />
            <span class="nav-label">Slide 6</span>
          </div>
        </div>
      </div>

      <!-- Right Columns -->
      <div class="col-right">
        <div class="img-col" id="col2"></div>
        <div class="img-col" id="col3"></div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // List of ALL 17 images
        const allImages = [
          "ch1.jpeg",
          "ch2.jpeg",
          "ch3.jpeg",
          "ch4.jpeg",
          "ch5.jpeg",
          "ch6.jpeg",
          "ch7.jpeg",
          "ch8.jpeg",
          "ch9.jpeg",
          "ch10.jpeg",
          "ch11.jpeg",
          "ch12.jpeg",
          "ch13.jpeg",
          "ch14.jpeg",
          "ch15.jpeg",
          "ch16.jpeg",
          "ch17.jpeg",
        ];

        // Get DOM elements
        const loading = document.getElementById("loading");
        const wishOverlay = document.getElementById("wishOverlay");
        const wishContent = document.getElementById("wishContent");
        const closeWish = document.getElementById("closeWish");
        const birthdayWishBtn = document.getElementById("birthdayWishBtn");
        const col1 = document.getElementById("col1");
        const col2 = document.getElementById("col2");
        const col3 = document.getElementById("col3");
        const navItems = document.querySelectorAll(".nav-item");
        const sections = navItems.length;

        // Initialize smooth scrolling
        const lenis = new Lenis({
          duration: 1.8,
          easing: (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t)),
          direction: "vertical",
          smooth: true,
          mouseMultiplier: 1.2,
          touchMultiplier: 2,
        });

        // Register ScrollTrigger
        gsap.registerPlugin(ScrollTrigger);

        // Sync scrolling
        lenis.on("scroll", ScrollTrigger.update);
        gsap.ticker.add((time) => lenis.raf(time * 1000));
        gsap.ticker.lagSmoothing(0);

        // Function to shuffle array
        function shuffleArray(array) {
          const shuffled = [...array];
          for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
          }
          return shuffled;
        }

        // Function to generate column items
        function generateColumnItems(columnElement, isReverse = false) {
          columnElement.innerHTML = "";

          const availableImages = [...allImages];
          const totalImagesNeeded = 18;

          while (availableImages.length < totalImagesNeeded) {
            availableImages.push(...allImages);
          }

          const shuffledImages = shuffleArray(
            availableImages.slice(0, totalImagesNeeded)
          );

          for (let section = 0; section < sections; section++) {
            for (let i = 0; i < 3; i++) {
              const imgItem = document.createElement("div");
              imgItem.className = "img-item";
              imgItem.setAttribute("data-section", section);

              const img = document.createElement("img");
              img.src = shuffledImages[section * 3 + i];
              img.alt = `Memory ${section * 3 + i + 1}`;

              const imgLoader = new Image();
              imgLoader.src = shuffledImages[section * 3 + i];

              imgItem.appendChild(img);

              if (isReverse) {
                columnElement.prepend(imgItem);
              } else {
                columnElement.appendChild(imgItem);
              }
            }
          }
        }

        // Generate content for all columns
        generateColumnItems(col1, false);
        generateColumnItems(col2, true);
        generateColumnItems(col3, false);

        // Set up animations
        function setupAnimations() {
          const distance = (sections - 1) * window.innerHeight;

          gsap.to(col1, {
            y: -distance,
            ease: "none",
            scrollTrigger: {
              trigger: "body",
              start: "top top",
              end: "bottom bottom",
              scrub: true,
            },
          });

          gsap.to(col2, {
            y: distance,
            ease: "none",
            scrollTrigger: {
              trigger: "body",
              start: "top top",
              end: "bottom bottom",
              scrub: true,
            },
          });

          gsap.to(col3, {
            y: -distance,
            ease: "none",
            scrollTrigger: {
              trigger: "body",
              start: "top top",
              end: "bottom bottom",
              scrub: true,
            },
          });
        }

        // Update navigation
        function updateNav() {
          const scrollPos = window.scrollY;
          const viewportHeight = window.innerHeight;
          const threshold = 0.4;
          const section = Math.min(
            Math.floor(
              (scrollPos + viewportHeight * threshold) / viewportHeight
            ),
            sections - 1
          );

          navItems.forEach((item, i) => {
            item.classList.toggle("active", i === section);
          });
        }

        // Show birthday wish with animation
        function showBirthdayWish() {
          wishOverlay.style.display = "flex";

          // Reset transform for animation
          gsap.set(wishContent, { y: 30, opacity: 0 });

          gsap.to(wishContent, {
            y: 0,
            opacity: 1,
            duration: 0.8,
            ease: "power3.out",
            onStart: () => {
              // Prevent body scroll when overlay is open
              document.body.style.overflow = "hidden";
            },
          });
        }

        // Hide birthday wish
        function hideBirthdayWish() {
          gsap.to(wishContent, {
            y: 30,
            opacity: 0,
            duration: 0.5,
            ease: "power2.in",
            onComplete: () => {
              wishOverlay.style.display = "none";
              // Restore body scroll
              document.body.style.overflow = "auto";
            },
          });
        }

        // Event listeners
        birthdayWishBtn.addEventListener("click", showBirthdayWish);
        closeWish.addEventListener("click", hideBirthdayWish);
        wishOverlay.addEventListener("click", (e) => {
          if (e.target === wishOverlay) hideBirthdayWish();
        });

        // Add navigation click events
        navItems.forEach((item, i) => {
          item.addEventListener("click", () => {
            lenis.scrollTo(i * window.innerHeight, {
              duration: 1.2,
            });
          });
        });

        // Update navigation on scroll
        window.addEventListener("scroll", updateNav);

        // Initialize
        setupAnimations();
        updateNav();

        // Preload all images
        const imagePromises = allImages.map((src) => {
          return new Promise((resolve) => {
            const img = new Image();
            img.src = src;
            img.onload = resolve;
            img.onerror = resolve;
          });
        });

        Promise.all(imagePromises).then(() => {
          setTimeout(() => {
            gsap.to(loading, {
              opacity: 0,
              duration: 0.5,
              onComplete: () => {
                loading.style.display = "none";
              },
            });
          }, 500);
        });

        // Handle resize
        window.addEventListener("resize", () => {
          ScrollTrigger.refresh();
          updateNav();
        });

        // Close overlay with Escape key
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && wishOverlay.style.display === "flex") {
            hideBirthdayWish();
          }
        });
      });
    </script>
  </body>
</html>
